<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>iRU - Página do Usuário</title>

    <link rel="stylesheet" href="demo.css">

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script type="text/javascript" src="js/demo.js"></script>

    <!-- Bootstrap Core CSS -->
    <link href="bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- MetisMenu CSS -->
    <link href="bower_components/metisMenu/dist/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="bower_components/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

    <div id="wrapper" class="container">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a href="home1.html"><img src="images/name.png" class="brand img-responsive"></a>
            </div>
            <!-- /.navbar-header -->

            <ul class="nav navbar-top-links navbar-right">
                <!-- /.dropdown -->

                <!-- /.dropdown -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-bell fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-alerts">
                        <li>
                            <a href="#">
                                <div>
                                    <i class="fa fa-comment fa-fw"></i> Novas Notificações
                                    <span class="pull-right text-muted small">2 horas atrás</span>
                                </div>
                            </a>
                        </li>
                    </ul>
                    <!-- /.dropdown-alerts -->
                </li>
                <!-- /.dropdown -->
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                        <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-user">
                        <li><a href="home1.html"><i class="fa fa-user fa-fw"></i> Página do Usuário</a>
                        </li>
                        <li><a href="configuracoes1.html"><i class="fa fa-gear fa-fw"></i> Configurações</a>
                        </li>
                        <li class="divider"></li>
                        <li><a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Sair</a>
                        </li>
                    </ul>
                    <!-- /.dropdown-user -->
                </li>
                <!-- /.dropdown -->
            </ul>
            <!-- /.navbar-top-links -->

            <div class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav" id="side-menu">
                        <li class="active">
                            <a href="home1.html"><i class="fa fa-user fa-fw"></i> Página do Usuário</a>
                        </li>
                        <li>
                            <a href="compra1-1.html"><i class="fa fa-shopping-cart fa-fw"></i> Comprar</a>
                        </li>
                        <li>
                            <a href="#"><i class="fa fa-edit fa-fw"></i>Extrato<span class="fa arrow"></span></a>
                            <ul class="nav nav-second-level">
                                <li>
                                    <a href="extrato1.html"><i class="fa fa-table fa-fw"></i>Utilização</a>
                                </li>
                                <li>
                                    <a href="historico1.html"><i class="fa fa-history fa-fw"></i>Compras</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="configuracoes1.html"><i class="fa fa-wrench fa-fw"></i> Configurações</a>
                        </li>
                        <li>
                            <a href="login.html"><i class="fa fa-sign-out fa-fw"></i> Sair</a>
                        </li>
                    </ul>
                </div>
                <!-- /.sidebar-collapse -->
            </div>
            <!-- /.navbar-static-side -->
        </nav>

        <!-- Page Content -->
        <div id="page-wrapper">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12">
                        <h3 class="page-header">Compra de Tickets</h3>
                        <h5><a href="home1.html">Home</a> >>
                             <a href="" id="pedido">Dados do Pedido</a> >>
                             <label font-weight='bold'>Dados do Pagamento</label>
                        </h5>
                    </div>
                    <!-- /.col-lg-12 -->
                </div>
                <!-- /.row -->

                <div class="row">
                    <div class="col-lg-12">
                        <div id="teste" class="well">
                            <h4>Passo 2 de 3: Pagamento</h4>
                            <div class="progress progress-striped active">
                                <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="66" aria-valuemin="0" aria-valuemax="100" style="width: 66%">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <label>Pagamento</label>
                            </div>
                            <div class="panel-body">
                                <!-- Nav tabs -->
                                <ul class="nav nav-pills">
                                    <li class="active" id="cartao"><a href="#home-pills" data-toggle="tab"> Cartão</a></li>
                                    <li id="boleto"><a href="#profile-pills" data-toggle="tab">Boleto</a></li>
                                </ul>

                                <div class="tab-content">

                                    <div class="tab-pane fade in active" id="home-pills">

                                        <div class="col-lg-4 col-md-6 col-xs-9">
                                            <h4>Insira as Informações do Cartão:</h4>
                                            <div id="error">
                                            </div>
                                            <div class="demo">
                                                <form>
                                                    <ul>
                                                        <li>
                                                            <label for="card_number">Número do Cartão </label>
                                                            <div id="error1" class="has-error">
                                                                <input type="text" name="card_number" id="card_number" placeholder="1234 1234 1234 1234" maxlength="16">
                                                            </div>
                                                        </li>

                                                        <li class="vertical">
                                                            <ul>
                                                                <li>
                                                                    <label for="expiry_date">Validade</label>
                                                                    <input type="text" name="expiry_date" id="expiry_date" class="" maxlength="5" placeholder="mm/aa">
                                                                </li>

                                                                <li>
                                                                    <label for="cvv">CVV</label>
                                                                    <input type="text" name="cvv" id="cvv" placeholder="123" maxlength="3">
                                                                </li>
                                                            </ul>
                                                        </li>

                                                        <li class="vertical maestro">
                                                            <ul>
                                                                <li>
                                                                    <label for="issue_date">Issue date</label>
                                                                    <input type="text" name="issue_date" id="issue_date" maxlength="5" placeholder="mm/aa">
                                                                </li>

                                                                <li>
                                                                    <span class="or">or</span>
                                                                    <label for="issue_number">Issue number</label>
                                                                    <input type="text" name="issue_number" id="issue_number" maxlength="2">
                                                                </li>
                                                            </ul>
                                                        </li>

                                                        <li>
                                                            <label for="name_on_card">Nome impresso no cartão</label>
                                                            <input type="text" name="name_on_card" id="name_on_card" placeholder="Jose da Silva">
                                                        </li>
                                                    </ul>
                                                </form>
                                                <p class="log"></p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="profile-pills">
                                        <h4><br>Seu boleto será enviado por e-mail após finalização do pedido!</h4>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-2 col-md-4 col-xs-6">
                            <button id="cancelar" class="btn btn-primary btn-block" data-toggle="modal" data-target="#dialog">Cancelar</button>
                        </div>
                        <div class="col-lg-2 col-md-4 col-xs-6">
                            <button id="continuar" class="btn  btn-primary btn-block">Continuar</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.container-fluid -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    <div id="dialog" class="modal fade" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-center">Cancelar Pedido</h4>
                </div>
                <div class="modal-body">
                    <label>Tem Certeza que deseja cancelar o pedido?</label>
                </div>
                <div class="modal-footer">
                    <button type="button" id="btnCancelar" class="btn btn-primary">Sim</button>
                    <button type="button" id="btnEnviar" class="btn btn-primary" data-dismiss="modal">Não</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/jquery.maskedinput-1.2.2-co.min.js"></script>

    <script>
        var valid = false;
        var bandeira = "";
        var method = 1;

        $.urlParam = function (name) {
            var results = new RegExp('[\?&]' + name + '=([^&#]*)').exec(window.location.href);
            if (results == null) {
                return null;
            } else {
                return results[1] || 0;
            }
        }

        $(function () {
            $('#card_number').validateCreditCard(function (result) {
                valid = result.valid;
                bandeira = result.card_type == null ? '-' : result.card_type.name;
            });
        });

        $(document).ready(function () {
            $('#btnCancelar').click(function () {
                window.location = "home1.html";
            });
        });

        $(document).ready(function () {
            $('#boleto').click(function () {
                method = 2;
            });
        });

        $(document).ready(function () {
            $('#cartao').click(function () {
                method = 1;
            });
        });

        $(document).ready(function () {
            $('#pedido').click(function () {
                parent.history.back();
            });
        });

        $(document).ready(function (result) {
            $('#continuar').click(function () {
                var tudoCerto = true;

                if (method == 1) {
                    $('#error').empty();
                    if (!valid) {
                        tudoCerto = false;
                        $('#error').append("<label>- Número do Cartão Inválido!</label><br>");
                    }
                    if ($('#expiry_date').val().length == 0) {
                        tudoCerto = false;
                        $('#error').append("<label>- Validade deve ser Informada!</label><br>");
                    }
                    if ($('#cvv').val().length != 3) {
                        tudoCerto = false;
                        $('#error').append("<label>- CVV deve conter três dígitos!</label><br>");
                    }
                    if ($('#name_on_card').val().length == 0) {
                        tudoCerto = false;
                        $('#error').append("<label>- O nome impresso no cartão deve ser informado!</label><br>");
                    }
                }

                if (tudoCerto) {
                    var number = $.urlParam('value');
                    window.location = "compra3-1.html?value=" + number +
                        "&method=" + method +
                        "&bandeira=" + bandeira +
                        "&card=" + $('#card_number').val();
                }

            });
        });

        $(document).ready(function () {
            $("#cvv").keydown(function (e) {
                // Allow: backspace, delete, tab, escape, enter and .
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                    // Allow: Ctrl+A, Command+A
                    (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                    // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                    // let it happen, don't do anything
                    return;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
        });

        $(document).ready(function () {
            $("#card_number").keydown(function (e) {
                // Allow: backspace, delete, tab, escape, enter and .
                if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||
                    // Allow: Ctrl+A, Command+A
                    (e.keyCode == 65 && (e.ctrlKey === true || e.metaKey === true)) ||
                    // Allow: home, end, left, right, down, up
                    (e.keyCode >= 35 && e.keyCode <= 40)) {
                    // let it happen, don't do anything
                    return;
                }
                // Ensure that it is a number and stop the keypress
                if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                    e.preventDefault();
                }
            });
        });

        $("#expiry_date").mask("99/99", {
            placeholder: "mm/aa"
        });
    </script>

    <!-- Bootstrap Core JavaScript -->
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Metis Menu Plugin JavaScript -->
    <script src="bower_components/metisMenu/dist/metisMenu.min.js"></script>

    <!-- Custom Theme JavaScript -->
    <script src="dist/js/sb-admin-2.js"></script>



</body>

</html>
